<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Untitled Document</title>
		<link href="css/NBSlide.css" rel="stylesheet" type="text/css" media="all" />
		<script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>
		<!-- <script src="js/NBSlide.js" type="text/javascript"></script> -->
	</head>
	<body>
		<div id="slide_gallery_box">
			<div class="slide_gallery">
				<ul>
					<li><img src="images/slide1.jpg" alt="" /></li>
					<li><img src="images/slide2.jpg" alt="" /></li>
					<li><img src="images/slide3.jpg" alt="" /></li>
					<li><img src="images/slide4.jpg" alt="" /></li>
					<li><img src="images/slide5.jpg" alt="" /></li>
				</ul>
			</div>
			<div class="sub_menu_box">
				<a href="#" class="m1 button"
					><img src="images/btn_prev.jpg" alt="왼쪽"
				/></a>
				<a href="#" class="m2 button"
					><img src="images/btn_next.jpg" alt="오른쪽"
				/></a>
			</div>
		</div>

		<script>
			$(document).ready(function () {
				let position = 0;
				const movesize = $(".slide_gallery ul li").width();
				let timeonoff;

				$(".slide_gallery ul").after($(".slide_gallery ul").clone());

				function moveG() {
					position -= movesize;
					$(".slide_gallery")
						.animate({ left: position }, "slow", function () {
							if (position <= -750) {
								$(".slide_gallery").css("left", 0);
								position = 0;
							} // 콜백함수
						})
						.clearQueue();
				}

				timeonoff = setInterval(moveG, 3000);

				$(".button").click(function (event) {
					event.preventDefault();
					clearInterval(timeonoff);

					if ($(this).is(".m1")) {
						position -= movesize;
						$(".slide_gallery")
							.animate({ left: position }, "slow", function () {
								if (position <= -750) {
									$(".slide_gallery").css("left", 0);
									position = 0;
								} // 콜백함수
							})
							.clearQueue();
					} else if ($(this).is(".m2")) {
						//최초 실행시 오른쪽 버튼 클릭했을때  좌표이동!
						if (position >= 0) {
							$(".slide_gallery").css("left", -750);
							position = -750;
						}

						position += movesize;
						$(".slide_gallery")
							.animate({ left: position }, "slow", function () {
								if (position >= 0) {
									$(".slide_gallery").css("left", -750);
									position = -750;
								}
							})
							.clearQueue();
					}
				});
			});
		</script>
	</body>
</html>
